<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>自動排班</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5">
    <h2>自動排班</h2>
    <form method="post" action="/auto_schedule" class="mb-3 row g-3 align-items-end">
        <div class="col-auto">
            <label for="month" class="form-label">選擇月份</label>
            <input type="month" class="form-control" id="month" name="month" value="{{ default_month }}" required>
        </div>
        <div class="w-100"></div>
        <div class="col-md-2">
            <label class="form-label">每人每日最多班數</label>
            <input type="number" class="form-control" name="max_per_day" value="1" min="1" max="3">
        </div>
        <div class="col-md-2">
            <label class="form-label">連續上班天數上限</label>
            <input type="number" class="form-control" name="max_consecutive" value="5" min="1" max="14">
        </div>
        <div class="col-md-2">
            <label class="form-label">每月班數下限</label>
            <input type="number" class="form-control" name="min_per_month" value="22" min="0" max="31">
        </div>
        <div class="col-md-2">
            <label class="form-label">每月班數上限</label>
            <input type="number" class="form-control" name="max_per_month" value="30" min="1" max="31">
        </div>
        <div class="col-md-2">
            <label class="form-label">夜班連續上班天數上限</label>
            <input type="number" class="form-control" name="max_night_consecutive" value="2" min="1" max="7">
        </div>
        <div class="col-md-2">
            <label class="form-label">夜班每月上限</label>
            <input type="number" class="form-control" name="max_night_per_month" value="8" min="0" max="31">
        </div>
        <div class="col-md-2">
            <label class="form-label">缺人自動標註</label>
            <select class="form-select" name="auto_fill_missing">
                <option value="yes" selected>是</option>
                <option value="no">否</option>
            </select>
        </div>
        <div class="col-md-2">
            <label class="form-label">班別公平分配</label>
            <select class="form-select" name="fair_distribution">
                <option value="yes" selected>是</option>
                <option value="no">否</option>
            </select>
        </div>
        <div class="col-md-2">
            <label class="form-label">特殊人員排班偏好</label>
            <select class="form-select" name="special_preference">
                <option value="no" selected>否</option>
                <option value="yes">是</option>
            </select>
        </div>
        <div class="col-auto">
            <button type="submit" class="btn btn-primary">一鍵自動排班（產生整月）</button>
        </div>
    </form>
    <div class="alert alert-info mb-3">
        <b>排班原則：</b>同一位員工從一個班別（如早班）轉換到另一個班別（如晚班或夜班），<br>
        <b>中間必須間隔至少11小時</b>（所有班別間皆適用）。
    </div>
    <a href="/view_schedule" class="btn btn-info mt-3">查看班表</a>
    <a href="/" class="btn btn-secondary mt-3">回首頁</a>
</div>
</body>
</html> 